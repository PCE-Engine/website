---
import Layout from '../layouts/Layout.astro';
import Chessboard from '../components/Chessboard.astro';
---

<Layout title="Welcome to eChess">
    <div id="layout">
        <div id="cursor-box">
            <div id="cursor"></div>
        </div>
        <nav>
            <div><img src="/logo.png"><h1>eChess</h1></div>
        </nav>
    </div>
</Layout>

<style>
    @import url('https://fonts.googleapis.com/css2?family=PT+Serif&display=swap');

    #layout {
        position: absolute;
        min-height: 100%;
        min-width: 100%;
        display: grid;
        grid-template-rows: 140px 1fr 50px;
    }

    body {
        background: #011109;
        color: #eee;
        position: relative;
    }
    h1 {
        font-family: 'PT Serif', serif;
        font-size: 60px;
    }
    nav {
        display: flex;
        justify-content: center;
        padding: 20px;
    }
    nav > div {
        display: flex;
        gap: 30px;
    }
    nav img {
        max-height: calc(100% - 10px);
    }
    @media screen and (max-width: 499px) {
        nav img {
            display: none;
        }
    }
</style>

<style>
    #cursor-box {
        position: absolute;
        width: 100%;
        height: 100%;
        pointer-events: none;
    }
    #cursor {
        height: 50px;
        width: 42px;
        position: absolute;
        background: url('/cursor.svg');
        background-size: 100% 100%;
        top: -100%;
    }
</style>
<style is:global>
    * {
        cursor: none;
    }
    ::selection {
        color: #011109;
        background: #eee;
    }
</style>
<script>
    window.onload = () => {
        if (!(('ontouchstart' in window) || (navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0))) {
            window.onmousemove = (event) => {
                const cursor = document.getElementById('cursor');
                let Y = event.clientY > window.innerHeight - 52 ? window.innerHeight - 52 : event.clientY;
                let X = event.clientX > window.innerWidth - 44 ? window.innerWidth - 44 : event.clientX; 
                cursor.style.top = `${Y}px`
                cursor.style.left = `${X}px`
            }
        }
    }
</script>
